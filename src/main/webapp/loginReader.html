<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./css/loginReader-style.css" />
    <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>

    <style>
      a,
      input,
      select,
      h1,
      h2,
      h3,
      h4,
      h5,
      * {
        margin: 0;
        padding: 0;
        border: none;
        text-decoration: none;
        appearance: none;
        background: none;
        pointer-events: none;
        -webkit-font-smoothing: antialiased;
      }

      a,
      input,
      button {
        outline: none;
        pointer-events: all;
      }
    </style>
    <title>Sign In</title>
  </head>
  <body>
    <div class="sign-up">
      <div class="modal">
        <div class="frame-2">
          <div class="rectangle-1"></div>
          <img
            class="unsplash-ha-as-ke-zb-h-ac"
            src="./public/image/unsplash-ha-as-ke-zb-h-ac0.png"
            alt=""
          />
        </div>
        <div class="group-11">
          <div class="div">
            <span>
              <span class="div-span">还没有账户？</span>
              <span class="div-span2"></span>
              <span class="div-span3"><a href="SignUp.html">点击注册</a></span>
            </span>
          </div>
          <div class="group-9">
              <button class="rectangle-5">
              <script src="./public/js/layer/layer.js"></script>

              <script>
                // 监听输入框的keypress事件
                    $(".input").keypress(function (event) {
                      // 如果按下的是回车键（键码为13）
                      if (event.which == 13) {
                        // 触发登录按钮的点击事件
                        $("button").click();
                      }
                    });
                $("button").click(function () {
                  var nickname = $(".name .input").val();
                  var password = $(".password .input").val();

                  $.ajax({
                    url: "./readerLogin", // 这里是后端登录接口
                    type: "post",
                    data: {
                      user: nickname,
                      psw: password
                    },
                    dataType: "json",
                    success: function (data) {
                      if (data.code == 0) {
                        layer.msg("登录成功", { icon: 6, time: 1000 }, function () {
                          location.href = data.url;
                        })
                      } else {
                        layer.open({
                          title: "登录失败",
                          content: data.msg,
                          icon: 5,
                          anim: 6
                        })
                      }
                    },
                    error: function () {
                      window.alert("网络错误，请稍后再试");
                    }
                  });
                  return false;
                });
              </script>
            </button>
            <div class="div2">登 录</div>
          </div>
        </div>
        <div class="group-13">
          <div class="group-10">
            <div class="hello-learner">
              Hello Learner !
              <br />
              欢迎回来！
            </div>
            <div class="group-5">
              <div class="password">
                <div class="rectangle-6"></div>
                <div class="rectangle-4"></div>
                <label>
                  <input type="password" id="password" class="rectangle-4 input">
                </label>

                  <g clip-path="url(#clip0_1_14)">
                    <path
                      d="M14.12 14.725C13.8454 15.0197 13.5141 15.2561 13.1462 15.4201C12.7782 15.5841 12.3809 15.6722 11.9781 15.6793C11.5753 15.6864 11.1752 15.6123 10.8016 15.4615C10.4281 15.3106 10.0887 15.086 9.80385 14.8011C9.51897 14.5163 9.29439 14.1769 9.14351 13.8034C8.99262 13.4298 8.91853 13.0297 8.92563 12.6269C8.93274 12.2241 9.02091 11.8268 9.18488 11.4588C9.34884 11.0908 9.58525 10.7596 9.88 10.485M17.94 18.545C16.2306 19.848 14.1491 20.5698 12 20.605C5 20.605 1 12.605 1 12.605C2.24389 10.2869 3.96914 8.26158 6.06 6.66498L17.94 18.545ZM9.9 4.84497C10.5883 4.68385 11.2931 4.60331 12 4.60498C19 4.60498 23 12.605 23 12.605C22.393 13.7406 21.6691 14.8097 20.84 15.795L9.9 4.84497Z"
                      stroke="#00507C"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M1 1.60498L23 23.605"
                      stroke="#00507C"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </g>
                  <defs>
                    <clipPath id="clip0_1_14">
                      <rect
                        width="24"
                        height="24"
                        fill="white"
                        transform="translate(0 0.60498)"
                      />
                    </clipPath>
                  </defs>
                </svg>

                <div class="group-4">
                  <div class="div3">密码</div>
                  <svg
                    class="lock"
                    width="24"
                    height="25"
                    viewBox="0 0 24 25"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M19 11.605H5C3.89543 11.605 3 12.5004 3 13.605V20.605C3 21.7095 3.89543 22.605 5 22.605H19C20.1046 22.605 21 21.7095 21 20.605V13.605C21 12.5004 20.1046 11.605 19 11.605Z"
                      stroke="#00507C"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M7 11.605V7.60498C7 6.2789 7.52678 5.00713 8.46447 4.06945C9.40215 3.13176 10.6739 2.60498 12 2.60498C13.3261 2.60498 14.5979 3.13176 15.5355 4.06945C16.4732 5.00713 17 6.2789 17 7.60498V11.605"
                      stroke="#00507C"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>
                </div>
              </div>
       <script>
        const togglePassword = document.querySelector('#togglePassword');
        const password = document.querySelector('#password');

        togglePassword.addEventListener('click', function (e) {
          // toggle the type attribute
          const type = password.getAttribute('type') === 'password' ? 'text' : 'password';
          password.setAttribute('type', type);
          // toggle the eye slash icon
          this.classList.toggle('fa-eye-slash');
        });
      </script>

              <div class="name">
                <div class="rectangle-2"></div>
                <label>
                  <input type="text" class="rectangle-2 input">
                </label>
                <div class="group-3">
                  <svg
                    class="user"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21"
                      stroke="#00507C"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11Z"
                      stroke="#00507C"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>

                  <div class="div3">账号</div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="ellipse-1"></div>
      </div>
    </div>
    <div style="position:fixed; bottom:0; right:0;">
      <a href="loginManager.html" target="_blank"><img src="public/image/manager.png" width="50px" height="50px" alt=""></a><br>
      <a href="adminLogin.html" target="_blank"><img src="public/image/admin.png" width="50px" height="50px" alt=""></a>
    </div>
  </body>
</html>
